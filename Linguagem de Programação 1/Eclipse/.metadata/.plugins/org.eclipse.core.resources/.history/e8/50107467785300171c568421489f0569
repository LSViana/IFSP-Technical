package JoaoSupermarket.View;

import java.io.File;
import javafx.fxml.FXML;
import javafx.scene.control.Alert;
import javafx.scene.control.Alert.AlertType;
import javafx.stage.FileChooser;
import JoaoSupermarket.MainApp;

/*
 * Controller for the Root Layout (Raíz do Layout [Configuração da Tela])
 * Provides a bar with some actions to help the user during the application use
 */
public class RootLayoutController {
	// Reference to the MainApp
	private MainApp mainApp;
	// Method called by the MainApp to give a reference back to itself
	public void setMainApp(MainApp mainApp) {
		this.mainApp = mainApp;
	}
	// Creates an empty Produto list
	@FXML
	private void gerenciarNovo() {
		mainApp.getProdutosDados().clear();
		mainApp.setProdutoFilePath(null);
	}

	@FXML
	private void gerenciarAbrir() {
		FileChooser fc = new FileChooser();

		// Setting the extension filter
		FileChooser.ExtensionFilter extFilter =
				new FileChooser.ExtensionFilter("XML files (*.xml)", "*.xml");
		fc.getExtensionFilters().add(extFilter);

		// Show open file dialog
		File file = fc.showOpenDialog(mainApp.getPrimaryStage());

		if(file != null) {
			mainApp.loadProdutoDataFromFile(file);
		}
	}
}
