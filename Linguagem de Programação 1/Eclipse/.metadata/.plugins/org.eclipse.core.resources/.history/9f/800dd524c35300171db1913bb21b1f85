package JoaoSupermarket.Data;

import java.io.File;
import java.util.prefs.Preferences;

import JoaoSupermarket.MainApp;

public class ManageFile {
	 // Methods to save user's preferences
    public File getProdutoFilePath() {
    	Preferences prefs = Preferences.userNodeForPackage(MainApp.class);
    	String filePath = prefs.get("filePath", null);
    	if (filePath != null) {
    		return new File(filePath);
    	}
    	else {
    		return null;
    	}
    }

    /*
     *	Sets the file path of the currently loaded file, the path
     *	might change depending on the OS specific registry
     */
    public void setProdutoFilePath(File file, MainApp mainApp) {
    	Preferences prefs = Preferences.userNodeForPackage(MainApp.class);
    	if (file != null) {
    		prefs.put("filePath", file.getPath());

    		// Update the stage title
    		mainApp.getPrimaryStage().setTitle("Vendinha do Seu João - " + file.getName());
    	}
    	else {
    		prefs.remove("filePath");

    		// Update the stage title
    		mainApp.getPrimaryStage().setTitle("Vendinha do Seu João");
    	}
    }
}
